<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ERC &amp; Node Staking Pool :: Freight Trust &amp; Clearing Omnibus</title>
    <link rel="prev" href="#">
    <link rel="next" href="#">
    <meta name="generator" content="Antora 1.0.0">
    <link rel="stylesheet" href="../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://freight-docs.netlify.app">Freight Trust &amp; Clearing Omnibus</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="Global Data Service Interchange" data-version="3.0.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="#"></a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <a class="nav-link" href="/rulebook/legal-parity.html">Rulebook</a>
  </li>
  <li class="nav-item" data-depth="0">
    <a class="nav-link" href="/rulebook/general.html">General</a>
  </li>
  <li class="nav-item" data-depth="0">
    <a class="nav-link" href="/rulebook/governance.html">Governance</a>
  </li>
  <li class="nav-item" data-depth="0">
    <a class="nav-link" href="/rulebook/network-clearing-participants.html">Network Participants</a>
  </li>
  <li class="nav-item" data-depth="0">
    <a class="nav-link" href="/rulebook/delivery-and-settlement.html">Delivery & Settlement</a>
  </li>
  <li class="nav-item" data-depth="0">
    <a class="nav-link" href="/rulebook/obligations.html">Obligations</a>
  </li>
  <li class="nav-item" data-depth="0">
    <a class="nav-link" href="/rulebook/suspension.html">Suspension</a>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#">Supply Chain</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/supply-chain/bill-of-lading/bill-of-lading-rules.html">Bills of Lading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/supply-chain/bill-of-lading/non-negotiable-bol.html">Non Negotiable BOL</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/supply-chain/customs/customs-broker-power-of-attorney.html">Customs & Freight Forwarders</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/supply-chain/incoterms.html">INCO Terms</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/supply-chain/warehouse/non-negotiable-warehouse-receipts.html">Warehouse Receipts</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/supply-chain/warehouse/856.html">EDI 856</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="/blockchain/token-overview.html">Blockchain Network</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/blockchain/contracts-v1.html">Protocol</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/blockchain/pricing.html">Pricing Model</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/blockchain/staking.html">Token Staking & Mechanics</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/blockchain/network-upgrade.html">Network Upgrading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/blockchain/add-metamask.html">Wallets</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#">Network</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/network/Updating-Whitelists.html">Whitelists</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/eas2.html">Primitive Protocol Layer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/network/Account-Management.html">Account Management</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/whitepapers/axioms.html">Protocol Axioms</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/blockchain/explain-edi.html">EDI Explainer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/whitepapers/network-design.html">Network Design</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/blockchain/vbsm.html">VBSM Methodology</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/whitepapers/smart-contract-practices.html">Smart Contract</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/blockchain/smart-contract-dev.html">Smart Contract Best Practices</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/whitepapers/safety-and-continiuty.html">Safety and Continiuty</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/whitepapers/adr.html">ADR Template</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#">Pricing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/corporate/transaction-pricing.html">Transaction Pricing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/corporate/pricing-spec-precedence.html">Pricing Specification Precedence</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/blockchain/pricing.html">Token Pricing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="/eas2.html">Enterprise</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/service-bus/message-structure.html">Accepted Message Structures</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/whitepapers/as2protocol.html">Gateway</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/eas2.html">B2B Message Protocols</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/service-bus/edi-x12.html">X12/EDIFACT Interchange</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/service-bus/x12-parser.html">X12/EDIFACT Parser</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="/engineering.html">Engineering & Operations</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/service-bus/safety-and-continiuty.html">Safety and Continiuty</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/corporate/irp.html">Incident Response Plan</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/corporate/defects.html">Defects</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/whitepapers/smart-contract-dev.html">Smart Contract Practices</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#">Corporate</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/corporate/irp.html">Incident Response Plan</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/corporate/document-retention-policy.html">Document Retention Policy</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/service-bus/safety-and-continiuty.html">Safety and Continiuty</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/corporate/bylaws.html">Corporate Bylaws</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/corporate/GPL-cooperation-commitment.html">GPL Cooperation Commitment</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/corporate/privacy-policy.html">Code of Conduct</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/corporate/ccpa.html">CCPA</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#">Whitepapers</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/whitepapers/util.html">CDM</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/whitepapers/util.html">Design Considerations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/whitepapers/message-design.html">Message Design</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/grammar/index.html">Leximatic Grammer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/whitepapers/similarities-to-existing-regulatory-frameworks.html">Comparision to other Frameworks</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/whitepapers/axioms.html">Axioms</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Omnibus</span>
    <span class="version">1.4.5</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">EDI Service Bus</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="#">3.1.0</a>
        </li>
        <li class="version">
          <a href="#">3.0.0</a>
        </li>
        <li class="version">
          <a href="rulebook/general.html"></a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Omnibus</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="https://github.com/freight-chain">1.4.5</a>
        </li>
        <li class="version is-current">
          <a href="#">1.4.5</a>
        </li>
        <li class="version">
          <a href="#">2.0.7</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Customs Interface</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="tradedocs.html">USA</a>
        </li>
        <li class="version">
          <a href="#">CA</a>
        </li>
        <li class="version">
          <a href="#">JPY</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link is-current"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li>Freight Trust & Clearing</li>
    <li><a href="#">Omnibus</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="http://github.com/freight-trust/antora">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">ERC &amp; Node Staking Pool</h1>
<div class="sect1">
<h2 id="main-pool-protocol"><a class="anchor" href="#main-pool-protocol"></a>Main Pool Protocol</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are two protocols involved in staking
1. The ERC-20 Pooling and Rewards Protocol [Join Pool](/sdo20ZqURiyXL5qQsIO7nw)
2. Hosting a Node</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>$EDI ERC-20 Overview</p>
</li>
<li>
<p>$xEDI Overview</p>
</li>
<li>
<p>Staking Pool</p>
</li>
<li>
<p>Governance</p>
</li>
<li>
<p>Network Operators</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Authority.</p>
</li>
<li>
<p>Validators.</p>
</li>
<li>
<p>Signers.</p>
</li>
<li>
<p>Heartbeat.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Network Tenents</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="staking"><a class="anchor" href="#staking"></a>Staking</h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Smart Contract Overview</div>
<div class="paragraph">
<p>We are in the process of migrating from markdown into asciidoc, styling may not render properly</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contract</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">---</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">---</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Staking Contract</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An upgradeable contract that implements staking</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Staking Proxy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores staking state and delegates to the Staking Contract</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Registry</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables Pools to form that users may wish to delegate</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Registry</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables Pools to form that users may wish to delegate</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">$EDI Vault</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Securely holds staked $EDI Tokens</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">$EDI Treasury</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Securely holds $EDI Tokens for payouts</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="payout-formula"><a class="anchor" href="#payout-formula"></a>Payout Formula</h3>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Staking rewards payout in $EDI, but can also payout in additional tokens, such as $DAI or $USDC depending on your jurisdiction.</p>
</div>
<div class="paragraph">
<p>Staking Pools can be thought of as a delegated pool: Network Operators must form a <code>pool</code> in order to provide services. Some Network Operators may not have enough $EDI tokens in order to be able to do so. Others may have enough but also want to provide liquidity to the market. This system enables Network Operators the flexibility of both.</p>
</div>
</blockquote>
</div>
<div class="literalblock">
<div class="content">
<pre>$$  r=R \times\left(\frac{f}{F}\right)^{\alpha} \times\left(\frac{d}{D}\right)^{1-a}  $$</pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Term</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Definition</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">---</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">---</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>r</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reward for a specific pool.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>R</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total reward to be split between all pools.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>f</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total fees earned by the pool during a specific rotation period/epoch.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>F</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total fees earned across all (staked) pools this epoch.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>d</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total weighted $EDI staked by the pool this epoch.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>D</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total weighted $EDI staked across all (active) pools this epoch.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>α</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A constant in the range \[0..1\] that determines the weight of fees vs stake.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="basic-functionalities"><a class="anchor" href="#basic-functionalities"></a>Basic Functionalities</h3>
<div class="paragraph">
<p>The contract offers three basic functionalities.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>$EDI token owner can deposit and withdraw from the contract</p>
</li>
<li>
<p>$EDI withdrawls are a 30-day cooldown, meaning it wont unlock for 30 days.</p>
</li>
<li>
<p>Migration of Pools: Authority nodes run an adversarial "red" vs. "blue " mode, meaning after every epoch (600,000 blocks) a migration takes place</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Stakers themselves are the only ones that can opt-in to migrate their tokens from the current contract to the new one. As Stakers opt-in to new contracts, the migration manager cannot access nor prevent them from withdrawing their tokens.</p>
</div>
</div>
<div class="sect2">
<h3 id="functionality"><a class="anchor" href="#functionality"></a>Functionality</h3>
<div class="paragraph">
<p><code>approve()</code> + <code>stake()</code> +   <code>unstake()</code> + <code>withdraw()</code> + <code>restake()</code></p>
</div>
</div>
<div class="sect2">
<h3 id="incident-response-manager"><a class="anchor" href="#incident-response-manager"></a>Incident Response Manager</h3>
<div class="paragraph">
<p>The IRM module can</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Disable staking operations</p>
</li>
<li>
<p>Release all stakes</p>
</li>
<li>
<p>Update the address of the emergency manager</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Migration manager</strong> that can, in an administrative capacity during the initial period after the launch of the network:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add or remove migration destinations.</p>
</li>
<li>
<p>Update the stake change notifier.</p>
</li>
<li>
<p>Update the address of the migration manager.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="administrative-processes"><a class="anchor" href="#administrative-processes"></a>Administrative Processes</h3>
<div class="sect3">
<h4 id="migration-pathway"><a class="anchor" href="#migration-pathway"></a>Migration Pathway</h4>
<div class="paragraph">
<p>The migration flow allows users to opt-in to migrate their staked tokens to a new staking contract. Alternatively, a user can unstake, wait for the cooldown period to end, withdraw and stake in a new contract, but this would imply that the tokens are not staked during the cooldown period.</p>
</div>
<div class="paragraph">
<p>The Migration process:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The migration manager may propose (up to <code>MAX_APPROVED_STAKING_CONTRACTS</code>) distinct "migration destination" contracts.</p>
</li>
<li>
<p>Users may decide to migrate their staked tokens to any one of these contracts using the <code>migrateStakedTokens()</code> function. Note that the destination contracts only need to implement the <code>IMigratableStakingContract()</code> and could differ in many aspects relative to the existing IStakingContract specifications.</p>
</li>
<li>
<p>Once requested, the existing contract will call ERC20 approve and the <code>acceptMigration()</code> function of the new contract (part of the <code>IMigratableStakingContract</code> interface), which will move the stake to the new contract.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="distributing-rewards"><a class="anchor" href="#distributing-rewards"></a>Distributing Rewards</h3>
<div class="paragraph">
<p>The <code>distributeRewards()</code> helper function allows staking on behalf of different users in batch (e.g., like calling acceptMigration() multiple times).</p>
</div>
<div class="paragraph">
<p>This function is meant to be called by a network operator whenever it needs to distribute staking rewards, which will be distributed as new staked tokens. Similarly to the <code>acceptMigration()</code> function</p>
</div>
<div class="paragraph">
<p>Since <code>distributeRewards()</code> and <code>withdrawReleasedStakes()</code> are batched operations, their caller should provide enough gas for the entire batch in order to successfully distribute rewards to their pool members.</p>
</div>
</div>
<div class="sect2">
<h3 id="pools"><a class="anchor" href="#pools"></a>Pools</h3>

</div>
<div class="sect2">
<h3 id="delegation"><a class="anchor" href="#delegation"></a>Delegation</h3>

</div>
<div class="sect2">
<h3 id="additional-features"><a class="anchor" href="#additional-features"></a>Additional Features</h3>

</div>
<div class="sect2">
<h3 id="payout-estimator"><a class="anchor" href="#payout-estimator"></a>Payout Estimator</h3>

</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="#">Quickstart</a></span>
  <span class="next"><a href="#">Rulebook</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
